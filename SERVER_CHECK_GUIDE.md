# ğŸ” æœåŠ¡å™¨éƒ¨ç½²ç¯å¢ƒæ£€æµ‹æŒ‡å—

## ğŸ“‹ ä½¿ç”¨æ–¹æ³•

### æ­¥éª¤1ï¼šä¸Šä¼ è„šæœ¬åˆ°æœåŠ¡å™¨
å°† `server-deployment-check.sh` è„šæœ¬ä¸Šä¼ åˆ°æ‚¨çš„è…¾è®¯äº‘æœåŠ¡å™¨ï¼š

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨scpå‘½ä»¤ï¼ˆæœ¬åœ°æ‰§è¡Œï¼‰
scp server-deployment-check.sh root@YOUR_SERVER_IP:~/

# æ–¹æ³•2ï¼šç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šä¸‹è½½
wget https://raw.githubusercontent.com/æ‚¨çš„ç”¨æˆ·å/resume/main/server-deployment-check.sh
chmod +x server-deployment-check.sh
```

### æ­¥éª¤2ï¼šåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œæ£€æµ‹
```bash
# SSHç™»å½•åˆ°æœåŠ¡å™¨
ssh root@YOUR_SERVER_IP

# è¿è¡Œæ£€æµ‹è„šæœ¬
./server-deployment-check.sh
```

## ğŸ¯ æ£€æµ‹å†…å®¹

è¯¥è„šæœ¬å°†å…¨é¢æ£€æµ‹ä»¥ä¸‹å†…å®¹ï¼š

### âœ… ç³»ç»ŸåŸºç¡€ç¯å¢ƒ
- æ“ä½œç³»ç»Ÿç‰ˆæœ¬å’Œæ¶æ„
- ç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘5GBï¼‰
- å†…å­˜çŠ¶å†µï¼ˆæ¨è1GB+ï¼‰
- ç³»ç»Ÿè´Ÿè½½æƒ…å†µ

### ğŸŒ ç½‘ç»œè¿æ¥
- å¤–ç½‘è¿æ¥æµ‹è¯•
- DNSè§£ææµ‹è¯•
- GitHub APIè¿æ¥æµ‹è¯•

### ğŸ‘¤ æƒé™æ£€æŸ¥
- sudoæƒé™éªŒè¯
- dockerç”¨æˆ·ç»„æ£€æŸ¥
- æ–‡ä»¶ç³»ç»Ÿæƒé™

### ğŸ³ Dockerç¯å¢ƒ
- Dockerå®‰è£…çŠ¶æ€
- DockeræœåŠ¡è¿è¡ŒçŠ¶æ€
- Dockeræƒé™æµ‹è¯•
- å®¹å™¨è¿è¡Œæµ‹è¯•

### ğŸŸ¢ Node.jsç¯å¢ƒ
- Node.jsç‰ˆæœ¬ï¼ˆéœ€è¦20+ï¼‰
- npmå®‰è£…çŠ¶æ€
- PM2è¿›ç¨‹ç®¡ç†å™¨

### ğŸŒ WebæœåŠ¡å™¨
- Nginxå®‰è£…å’Œé…ç½®
- SSLå·¥å…·ï¼ˆOpenSSL, Certbotï¼‰

### ğŸ”Œ ç«¯å£æ£€æŸ¥
æ£€æŸ¥å…³é”®ç«¯å£å ç”¨æƒ…å†µï¼š
- 22 (SSH)
- 80 (HTTP)
- 443 (HTTPS)  
- 3000 (å‰ç«¯)
- 8000 (åç«¯)
- 5432 (PostgreSQL)

### ğŸ”¥ é˜²ç«å¢™è®¾ç½®
- UFWçŠ¶æ€æ£€æŸ¥
- iptablesè§„åˆ™æ£€æŸ¥

## ğŸ“Š è¾“å‡ºè¯´æ˜

è„šæœ¬ä½¿ç”¨å½©è‰²è¾“å‡ºæ ‡è¯†æ£€æµ‹ç»“æœï¼š

- âœ… **ç»¿è‰²**ï¼šæ­£å¸¸ï¼Œæ— éœ€å¤„ç†
- âš ï¸ **é»„è‰²**ï¼šè­¦å‘Šï¼Œå»ºè®®ä¼˜åŒ–
- âŒ **çº¢è‰²**ï¼šé”™è¯¯ï¼Œéœ€è¦ä¿®å¤
- â„¹ï¸ **è“è‰²**ï¼šä¿¡æ¯æç¤º

## ğŸ”§ è‡ªåŠ¨ä¿®å¤

æ£€æµ‹å®Œæˆåï¼Œè„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆ `fix-deployment-environment.sh` ä¿®å¤è„šæœ¬ï¼š

```bash
# è¿è¡Œè‡ªåŠ¨ä¿®å¤è„šæœ¬
./fix-deployment-environment.sh

# é‡æ–°ç™»å½•ä»¥åº”ç”¨dockerç»„æƒé™
exit
ssh root@YOUR_SERVER_IP
```

## âš ï¸ å¸¸è§é—®é¢˜

### 1. "Permission denied" é”™è¯¯
```bash
chmod +x server-deployment-check.sh
```

### 2. Dockeræƒé™é—®é¢˜
```bash
sudo usermod -aG docker $USER
newgrp docker
```

### 3. ç«¯å£è¢«å ç”¨
æŸ¥çœ‹å ç”¨è¿›ç¨‹ï¼š
```bash
sudo lsof -i :ç«¯å£å·
sudo netstat -tulpn | grep ç«¯å£å·
```

### 4. é˜²ç«å¢™é˜»æ­¢è¿æ¥
å¼€æ”¾å¿…è¦ç«¯å£ï¼š
```bash
sudo ufw allow 22
sudo ufw allow 80
sudo ufw allow 443
```

## ğŸš€ éƒ¨ç½²æ•…éšœæ’æŸ¥æµç¨‹

1. **è¿è¡Œæ£€æµ‹è„šæœ¬**
   ```bash
   ./server-deployment-check.sh > check-result.txt 2>&1
   ```

2. **ä¿®å¤çº¢è‰²âŒé”™è¯¯**
   ```bash
   ./fix-deployment-environment.sh
   ```

3. **é‡æ–°æ£€æµ‹**
   ```bash
   ./server-deployment-check.sh
   ```

4. **æµ‹è¯•GitHub Actions**
   é‡æ–°è§¦å‘éƒ¨ç½²

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœæ£€æµ‹å‘ç°ä¸¥é‡é—®é¢˜ï¼Œè¯·å°†æ£€æµ‹ç»“æœ (`check-result.txt`) å‘é€ç»™æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚

---

*è¯¥è„šæœ¬é€‚ç”¨äºUbuntu/Debianç³»ç»Ÿï¼Œå…¶ä»–Linuxå‘è¡Œç‰ˆå¯èƒ½éœ€è¦è°ƒæ•´åŒ…ç®¡ç†å™¨å‘½ä»¤ã€‚* 